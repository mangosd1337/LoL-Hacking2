<?php

return <<<'VALUE'
"namespace IPS\\Theme;\nclass class_core_front_search extends \\IPS\\Theme\\Template\n{\n\t\t\tfunction filters( $baseUrl, $count=NULL, $id, $action, $elements, $hiddenValues, $actionButtons, $uploadField, $class='', $attributes=array(), $sidebar, $form=NULL, $errorTabs=NULL ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\n\nCONTENT;\n\n$countFields = array( 'search_min_comments', 'search_min_replies', 'search_min_reviews', 'search_min_views');\n$return .= <<<CONTENT\n\n<form accept-charset='utf-8' class=\"ipsForm ipsForm_vertical\" method='post' action='\nCONTENT;\n$return .= htmlspecialchars( $action, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' data-ipsForm id='elSearchFilters_content'>\n\t<input type=\"hidden\" name=\"\nCONTENT;\n$return .= htmlspecialchars( $id, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n_submitted\" value=\"1\">\n\t\nCONTENT;\n\nforeach ( $hiddenValues as $k => $v ):\n$return .= <<<CONTENT\n\n\t\t<input type=\"hidden\" name=\"\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" value=\"\nCONTENT;\n$return .= htmlspecialchars( $v, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\n\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\n\t\nCONTENT;\n\nif ( $form->error ):\n$return .= <<<CONTENT\n\n\t\t<div class=\"ipsMessage ipsMessage_error ipsSpacer_bottom\">\n\t\t\t\nCONTENT;\n$return .= htmlspecialchars( $form->error, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\n\t\t<\/div>\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\n\t<div class='ipsPhotoPanel ipsPhotoPanel_mini cSearchMainBar'>\n\t\t<button type='submit' class='cSearchPretendButton ipsPos_left ipsCursor_default' tabindex='-1'><i class='fa fa-search ipsType_huge'><\/i><\/button>\n\t\t<div>\n\t\t\t<input type='text' id='elMainSearchInput' name='q' value='\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\Request::i()->q, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' placeholder='\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'q', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n' autofocus class='ipsField_primary ipsField_fullWidth'><br>\n\t\t\t<div class='ipsSpacer_top ipsSpacer_half' data-role=\"hints\">\n\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"search\", \\IPS\\Request::i()->app, 'front' )->hints( $baseUrl, $count );\n$return .= <<<CONTENT\n\n\t\t\t<\/div>\n\t\t\t<hr class='ipsHr'>\n\t\t\t<p class='ipsType_reset ipsSpacer_top ipsSpacer_half \nCONTENT;\n\nif ( isset( $hiddenValues['__advanced'] ) ):\n$return .= <<<CONTENT\nipsHide\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n' data-action='showFilters'>\n\t\t\t\t<a href='#' class='ipsType_medium'><i class='fa fa-plus'><\/i> \nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'search_more_options', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a>\n\t\t\t<\/p>\n\t\t<\/div>\n\t<\/div>\n\n\t<div data-role='searchFilters' class='ipsSpacer_top \nCONTENT;\n\nif ( !isset( $hiddenValues['__advanced'] ) ):\n$return .= <<<CONTENT\nipsHide\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n'>\n\t\t\nCONTENT;\n\nif ( \\IPS\\Member::loggedIn()->canAccessModule( \\IPS\\Application\\Module::get( 'core', 'members', 'front' ) ) ):\n$return .= <<<CONTENT\n\n\t\t<div class='ipsTabs ipsTabs_stretch ipsClearfix' id='elTabs_search' data-ipsTabBar data-ipsTabBar-contentArea='#elTabs_search_content'>\n\t\t\t<a href=\"#elTabs_search\" data-action=\"expandTabs\"><i class=\"fa fa-caret-down\"><\/i><\/a>\n\t\t\t<ul role='tablist'>\n\t\t\t\t<li>\n\t\t\t\t\t<a href='#' id=\"elTab_searchContent\" class=\"ipsTabs_item \nCONTENT;\n\nif ( \\IPS\\Request::i()->type != 'core_members' ):\n$return .= <<<CONTENT\nipsTabs_activeItem\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n ipsType_center\" title=\"\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'search_content_search_title', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\" role=\"tab\" \nCONTENT;\n\nif ( \\IPS\\Request::i()->type != 'core_members' ):\n$return .= <<<CONTENT\naria-selected=\"true\"\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\n\t\t\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'search_content_search', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\n\t\t\t\t\t<\/a>\n\t\t\t\t<\/li>\n\t\t\t\t<li>\n\t\t\t\t\t<a href='#' id=\"elTab_searchMembers\" class=\"ipsTabs_item \nCONTENT;\n\nif ( \\IPS\\Request::i()->type == 'core_members' ):\n$return .= <<<CONTENT\nipsTabs_activeItem\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n ipsType_center\" title=\"\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'search_member_search_title', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\" role=\"tab\" \nCONTENT;\n\nif ( \\IPS\\Request::i()->type == 'core_members' ):\n$return .= <<<CONTENT\naria-selected=\"true\"\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\n\t\t\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'search_member_search', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\n\t\t\t\t\t<\/a>\n\t\t\t\t<\/li>\n\t\t\t<\/ul>\n\t\t<\/div>\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t<section id='elTabs_search_content' class='ipsTabs_panels'>\n\t\t\t<div id='ipsTabs_elTabs_search_elTab_searchContent_panel' class='ipsTabs_panel' data-tabType='content'>\n\t\t\t\t<div class='ipsPad_double'>\n\t\t\t\t\t<div class=''>\t\t\n\t\t\t\t\t\t<ul class='ipsList_reset'>\n\t\t\t\t\t\t\t\nCONTENT;\n\nif ( isset( $elements['search_tab_content']['tags'] ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t<li class='ipsSpacer_half \nCONTENT;\n\nif ( !$elements['search_tab_content']['tags']->value ):\n$return .= <<<CONTENT\nipsHide\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n ipsFieldRow_fullWidth' data-role='searchTags'>\n\t\t\t\t\t\t\t\t\t<h3 class=\"ipsType_reset ipsType_large cStreamForm_title ipsSpacer_bottom ipsSpacer_half\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'search_by_tags', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h3>\n\t\t\t\t\t\t\t\t\t{$elements['search_tab_content']['tags']->html()}\n\t\t\t\t\t\t\t\t\t<span class='ipsType_light ipsType_small'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'tags_desc', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\nCONTENT;\n\nif ( isset( $elements['search_tab_content']['eitherTermsOrTags'] ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t<li class='ipsSpacer_top ipsSpacer_half \nCONTENT;\n\nif ( !$elements['search_tab_content']['tags']->value || !$elements['search_tab_all']['q']->value ):\n$return .= <<<CONTENT\nipsHide\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n' data-role='searchTermsOrTags'>\n\t\t\t\t\t\t\t\t\t<ul class='ipsFieldRow_content ipsList_reset'>\n\t\t\t\t\t\t\t\t\t\t<li class='ipsFieldRow_inlineCheckbox'>\n\t\t\t\t\t\t\t\t\t\t\t<span class='ipsCustomInput'>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type='radio' name=\"eitherTermsOrTags\" value=\"or\" id='elRadio_eitherTermsOrTags_or' \nCONTENT;\n\nif ( $elements['search_tab_content']['eitherTermsOrTags']->value == 'or' ):\n$return .= <<<CONTENT\nchecked\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\n\t\t\t\t\t\t\t\t\t\t\t\t<span><\/span>\n\t\t\t\t\t\t\t\t\t\t\t<\/span> <label for='elRadio_eitherTermsOrTags_or'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'termsortags_or_desc', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/label>\n\t\t\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t\t\t<li class='ipsFieldRow_inlineCheckbox'>\n\t\t\t\t\t\t\t\t\t\t\t<span class='ipsCustomInput'>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type='radio' name=\"eitherTermsOrTags\" value=\"and\" id='elRadio_eitherTermsOrTags_and' \nCONTENT;\n\nif ( $elements['search_tab_content']['eitherTermsOrTags']->value == 'and' ):\n$return .= <<<CONTENT\nchecked\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\n\t\t\t\t\t\t\t\t\t\t\t\t<span><\/span>\n\t\t\t\t\t\t\t\t\t\t\t<\/span> <label for='elRadio_eitherTermsOrTags_and'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'termsortags_and_desc', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/label>\n\t\t\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\nCONTENT;\n\nif ( isset( $elements['search_tab_content']['author'] ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t<li class='ipsSpacer_top \nCONTENT;\n\nif ( !$elements['search_tab_content']['author']->value ):\n$return .= <<<CONTENT\nipsHide\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n ipsFieldRow_fullWidth' data-role='searchAuthors'>\n\t\t\t\t\t\t\t\t\t<h3 class=\"ipsType_reset ipsType_large cStreamForm_title ipsSpacer_bottom ipsSpacer_half\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'search_by_author', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h3>\n\t\t\t\t\t\t\t\t\t{$elements['search_tab_content']['author']->html()}\n\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t\t\nCONTENT;\n\nif ( isset( $elements['search_tab_content']['tags'] ) || isset( $elements['search_tab_content']['author'] ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t<ul class=\"ipsList_inline ipsType_normal ipsJS_show\">\n\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( isset( $elements['search_tab_content']['tags'] ) && !$elements['search_tab_content']['tags']->value ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t<li><a href=\"#\" data-action=\"searchByTags\" data-opens='searchTags'><i class=\"fa fa-plus\"><\/i> \nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'search_by_tags', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a><\/li>\n\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( isset( $elements['search_tab_content']['author'] ) && !$elements['search_tab_content']['author']->value ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t<li><a href=\"#\" data-action=\"searchByAuthors\" data-opens='searchAuthors'><i class=\"fa fa-plus\"><\/i> \nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'search_by_author', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a><\/li>\n\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t<\/div>\n\n\t\t\t\t\t<div class='ipsGrid ipsGrid_collapsePhone ipsSpacer_top ipsSpacer_double'>\n\t\t\t\t\t\t\nCONTENT;\n\nif ( isset( $elements['search_tab_content']['type'] ) || isset( $elements['search_tab_content']['nodes'] ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\nCONTENT;\n\n$type = $elements['search_tab_content']['type'];\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t<div class='ipsGrid_span3'>\n\t\t\t\t\t\t\t\t<h3 class=\"ipsType_reset ipsType_large cStreamForm_title ipsSpacer_bottom ipsSpacer_half\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'searchType', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h3>\n\t\t\t\t\t\t\t\t<ul class=\"ipsSideMenu_list ipsSideMenu_withRadios ipsSideMenu_small ipsType_normal\" data-role='searchApp' data-ipsSideMenu data-ipsSideMenu-type=\"radio\" data-ipsSideMenu-responsive=\"false\">\n\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nforeach ( $type->options['options'] as $k => $lang ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $k == 'core_members' ):\n$return .= <<<CONTENT\n\nCONTENT;\n\ncontinue;\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<a href='#' id='elSearchToggle_\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' class='ipsSideMenu_item \nCONTENT;\n\nif ( (string) $type->value == (string) $k ):\n$return .= <<<CONTENT\nipsSideMenu_itemActive\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n' data-ipsMenuValue='\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"type\" value=\"\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" \nCONTENT;\n\nif ( (string) $type->value == (string) $k ):\n$return .= <<<CONTENT\nchecked\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n id=\"elRadio_type_\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" data-control=\"toggle\" data-toggles=\"\nCONTENT;\n\n$return .= htmlspecialchars( implode( ',', $type->options['toggles'][ $k ] ), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" data-toggle-visibleCheck='#elSearchToggle_\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\n\t\t\t\t\t\t\t\t\t\t\t\t<label for='elRadio_type_\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' id='elField_type_\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n_label' data-role='searchAppTitle'>\nCONTENT;\n\n$val = \"{$lang}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/label>\n\t\t\t\t\t\t\t\t\t\t\t<\/a>\n\t\t\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t<\/ul>\n\n\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( isset( $elements['search_tab_content']['nodes'] ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t<br>\n\n\t\t\t\t\t\t\t\t\t<h3 class=\"ipsType_reset ipsType_large cStreamForm_title ipsSpacer_bottom ipsSpacer_half\">\nCONTENT;\n\n$val = \"{$elements['search_tab_content']['nodes']->label}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h3>\n\t\t\t\t\t\t\t\t\t{$elements['search_tab_content']['nodes']->html()}\n\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\n\t\t\t\t\t\t\t\t<hr class='ipsHr ipsSpacer_both ipsResponsive_showPhone ipsResponsive_block'>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t<div class='ipsGrid_span9'>\n\t\t\t\t\t\t\t<div class='ipsGrid_span9' data-role='searchFilters' id='elSearchFiltersMain'>\n\t\t\t\t\t\t\t\t<div class='ipsGrid ipsGrid_collapsePhone'>\n\t\t\t\t\t\t\t\t\t<div class='ipsGrid_span6'>\n\t\t\t\t\t\t\t\t\t\t<h3 class=\"ipsType_reset ipsType_large cStreamForm_title\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'searchIn', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h3>\n\t\t\t\t\t\t\t\t\t\t<ul class='ipsSideMenu_list ipsSideMenu_withRadios ipsSideMenu_small ipsType_normal ipsSpacer_top ipsSpacer_half' role=\"radiogroup\" data-ipsSideMenu data-ipsSideMenu-type=\"radio\" data-ipsSideMenu-responsive=\"false\" data-filterType='searchIn'>\n\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nforeach ( $elements['search_tab_content']['search_in']->options['options'] as $k => $lang ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<a href='#' class='ipsSideMenu_item \nCONTENT;\n\nif ( (string) $elements['search_tab_content']['search_in']->value == (string) $k ):\n$return .= <<<CONTENT\nipsSideMenu_itemActive\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n' data-ipsMenuValue='\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"search_in\" value=\"\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" \nCONTENT;\n\nif ( (string) $elements['search_tab_content']['search_in']->value == (string) $k ):\n$return .= <<<CONTENT\nchecked\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n id=\"elRadio_searchIn_\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='elRadio_searchIn_\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' id='elField_searchIn_label'>\nCONTENT;\n\n$val = \"{$lang}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/a>\n\t\t\t\t\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t<div class='ipsGrid_span6'>\n\t\t\t\t\t\t\t\t\t\t<h3 class=\"ipsType_reset ipsType_large cStreamForm_title\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'andOr', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h3>\n\t\t\t\t\t\t\t\t\t\t<ul class='ipsSideMenu_list ipsSideMenu_withRadios ipsSideMenu_small ipsType_normal ipsSpacer_top ipsSpacer_half' role=\"radiogroup\" data-ipsSideMenu data-ipsSideMenu-type=\"radio\" data-ipsSideMenu-responsive=\"false\" data-filterType='andOr'>\n\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nforeach ( $elements['search_tab_content']['search_and_or']->options['options'] as $k => $lang ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<a href='#' class='ipsSideMenu_item \nCONTENT;\n\nif ( (string) $elements['search_tab_content']['search_and_or']->value == (string) $k ):\n$return .= <<<CONTENT\nipsSideMenu_itemActive\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n' data-ipsMenuValue='\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"search_and_or\" value=\"\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" \nCONTENT;\n\nif ( (string) $elements['search_tab_content']['search_and_or']->value == (string) $k ):\n$return .= <<<CONTENT\nchecked\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n id=\"elRadio_andOr_\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='elRadio_andOr_\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' id='elField_andOr_label'>\nCONTENT;\n\n$val = \"{$lang}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/a>\n\t\t\t\t\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t<div class='ipsGrid ipsGrid_collapsePhone'>\n\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( isset( $elements['search_tab_content']['startDate'] ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t<div class='ipsGrid_span6'>\n\t\t\t\t\t\t\t\t\t\t\t<h3 class=\"ipsType_reset ipsType_large cStreamForm_title\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'startDate', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h3>\n\t\t\t\t\t\t\t\t\t\t\t<ul class=\"ipsSideMenu_list ipsSideMenu_withRadios ipsSideMenu_small ipsType_normal ipsSpacer_top ipsSpacer_half\" role=\"radiogroup\" data-ipsSideMenu data-ipsSideMenu-type=\"radio\" data-ipsSideMenu-responsive=\"false\" data-filterType='dateCreated'>\n\t\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nforeach ( $elements['search_tab_content']['startDate']->options['options'] as $k => $lang ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href='#' class='ipsSideMenu_item \nCONTENT;\n\nif ( (string) $elements['search_tab_content']['startDate']->value == (string) $k ):\n$return .= <<<CONTENT\nipsSideMenu_itemActive\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n' data-ipsMenuValue='\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"startDate\" value=\"\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" \nCONTENT;\n\nif ( (string) $elements['search_tab_content']['startDate']->value == (string) $k ):\n$return .= <<<CONTENT\nchecked\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n id=\"elRadio_startDate_\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='elRadio_startDate_\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' id='elField_startDate_label'>\nCONTENT;\n\n$val = \"{$lang}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t<li class='ipsGrid ipsGrid_collapsePhone cStreamForm_dates ipsAreaBackground_light ipsPad_half \nCONTENT;\n\nif ( $elements['search_tab_content']['startDate']->value !== 'custom' ):\n$return .= <<<CONTENT\nipsJS_hide\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n' data-role=\"dateForm\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='ipsGrid_span6'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 class='ipsType_minorHeading'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'start', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h4>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='date' name='\nCONTENT;\n$return .= htmlspecialchars( $elements['search_tab_content']['startDateCustom']->name, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n[start]' data-control='date' data-role='start' value='\nCONTENT;\n$return .= htmlspecialchars( $elements['search_tab_content']['startDateCustom']->value['start'], ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='ipsGrid_span6'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 class='ipsType_minorHeading'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'end', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h4>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='date' name='\nCONTENT;\n$return .= htmlspecialchars( $elements['search_tab_content']['startDateCustom']->name, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n[end]' data-control='date' data-role='end' value='\nCONTENT;\n$return .= htmlspecialchars( $elements['search_tab_content']['startDateCustom']->value['end'], ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t\t\t\t\t\t\t<hr class='ipsHr ipsSpacer_both ipsResponsive_showPhone ipsResponsive_block'>\n\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( isset( $elements['search_tab_content']['updatedDate'] ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t<div class='ipsGrid_span6'>\n\t\t\t\t\t\t\t\t\t\t\t<h3 class=\"ipsType_reset ipsType_large cStreamForm_title\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'updatedDate', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h3>\n\t\t\t\t\t\t\t\t\t\t\t<ul class=\"ipsSideMenu_list ipsSideMenu_withRadios ipsSideMenu_small ipsType_normal ipsSpacer_top ipsSpacer_half\" role=\"radiogroup\" data-ipsSideMenu data-ipsSideMenu-type=\"radio\" data-ipsSideMenu-responsive=\"false\" data-filterType='dateUpdated'>\n\t\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nforeach ( $elements['search_tab_content']['updatedDate']->options['options'] as $k => $lang ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href='#' class='ipsSideMenu_item \nCONTENT;\n\nif ( (string) $elements['search_tab_content']['updatedDate']->value == (string) $k ):\n$return .= <<<CONTENT\nipsSideMenu_itemActive\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n' data-ipsMenuValue='\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"updatedDate\" value=\"\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" \nCONTENT;\n\nif ( (string) $elements['search_tab_content']['updatedDate']->value == (string) $k ):\n$return .= <<<CONTENT\nchecked\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n id=\"elRadio_updatedDate_\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='elRadio_updatedDate_\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' id='elField_updatedDate_label'>\nCONTENT;\n\n$val = \"{$lang}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t<li class='ipsGrid ipsGrid_collapsePhone cStreamForm_dates ipsAreaBackground_light ipsPad_half \nCONTENT;\n\nif ( $elements['search_tab_content']['updatedDate']->value !== 'custom' ):\n$return .= <<<CONTENT\nipsJS_hide\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n' data-role=\"dateForm\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='ipsGrid_span6'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 class='ipsType_minorHeading'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'start', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h4>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='date' name='\nCONTENT;\n$return .= htmlspecialchars( $elements['search_tab_content']['updatedDateCustom']->name, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n[start]' data-control='date' data-role='start' value='\nCONTENT;\n$return .= htmlspecialchars( $elements['search_tab_content']['updatedDateCustom']->value['start'], ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='ipsGrid_span6'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 class='ipsType_minorHeading'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'end', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h4>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type='date' name='\nCONTENT;\n$return .= htmlspecialchars( $elements['search_tab_content']['updatedDateCustom']->name, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n[end]' data-control='date' data-role='end' value='\nCONTENT;\n$return .= htmlspecialchars( $elements['search_tab_content']['updatedDateCustom']->value['end'], ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t\t\t<hr class='ipsHr'>\n\n\t\t\t\t\t\t\t\t<h3 class=\"ipsType_reset ipsType_large cStreamForm_title\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'search_filter_by_number', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h3>\n\t\t\t\t\t\t\t\t<ul class=\"ipsList_inline ipsSpacer_top ipsSpacer_half ipsType_normal\">\n\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nforeach ( $elements['search_tab_content'] as $inputName => $input ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( in_array( $inputName, $countFields ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t<li id='\nCONTENT;\n$return .= htmlspecialchars( $inputName, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\n\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"#elSearch_\nCONTENT;\n$return .= htmlspecialchars( $inputName, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n_menu\" data-ipsMenu data-ipsMenu-appendTo='#elSearchFilters_content' data-ipsMenu-closeOnClick='false' id='elSearch_\nCONTENT;\n$return .= htmlspecialchars( $inputName, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' data-role='\nCONTENT;\n$return .= htmlspecialchars( $inputName, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n_link'><span class='ipsBadge ipsBadge_small ipsBadge_style1 \nCONTENT;\n\nif ( $input->value <= 0 ):\n$return .= <<<CONTENT\nipsHide\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n' data-role='fieldCount'>\nCONTENT;\n$return .= htmlspecialchars( $input->value, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/span> \nCONTENT;\n\n$val = \"{$inputName}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n <i class='fa fa-caret-down'><\/i><\/a>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class='ipsMenu ipsMenu_medium ipsFieldRow_fullWidth ipsPad ipsHide' id='elSearch_\nCONTENT;\n$return .= htmlspecialchars( $inputName, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n_menu'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 class=\"ipsType_reset ipsType_minorHeading ipsSpacer_bottom ipsSpacer_half\">\nCONTENT;\n\n$val = \"{$inputName}_title\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h4>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='ipsFieldRow_fullWidth'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{$input->html()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t\nCONTENT;\n\nif ( \\IPS\\Member::loggedIn()->canAccessModule( \\IPS\\Application\\Module::get( 'core', 'members', 'front' ) ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t<div id='ipsTabs_elTabs_search_elTab_searchMembers_panel' class='ipsTabs_panel' data-tabType='members'>\n\t\t\t\t\t\nCONTENT;\n\n$exclude = array( 'joinedDate', 'joinedDateCustom', 'group');\n$return .= <<<CONTENT\n\n\t\t\t\t\t\nCONTENT;\n\n$totalCustomFields = count( $elements['search_tab_member'] ) - count( $exclude ); \/\/ Don't count joined, joined custom or group\n$return .= <<<CONTENT\n\n\t\t\t\t\t\nCONTENT;\n\n$perCol = ceil( $totalCustomFields \/ 2 );\n$return .= <<<CONTENT\n\n\t\t\t\t\t<div class='ipsPad_double'>\n\t\t\t\t\t\t<span class='ipsJS_hide'>\n\t\t\t\t\t\t\t<input type=\"radio\" name=\"type\" value=\"core_members\" \nCONTENT;\n\nif ( (string) $elements['search_tab_content']['type']->value == (string) 'core_members' ):\n$return .= <<<CONTENT\nchecked\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n id=\"elRadio_type_core_members\">\n\t\t\t\t\t\t\t<label for='elRadio_type_core_members' id='elField_type_core_members_label' data-role='searchAppTitle'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'core_members', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/label>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t<div class='ipsGrid ipsGrid_collapsePhone'>\n\t\t\t\t\t\t\t<div class='ipsGrid_span4'>\n\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( isset( $elements['search_tab_member']['joinedDate'] ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t<h3 class=\"ipsType_reset ipsType_large cStreamForm_title\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'joinedDate', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h3>\n\t\t\t\t\t\t\t\t\t<ul class=\"ipsSideMenu_list ipsSideMenu_withRadios ipsSideMenu_small ipsType_normal ipsSpacer_top ipsSpacer_half\" role=\"radiogroup\" data-ipsSideMenu data-ipsSideMenu-type=\"radio\" data-ipsSideMenu-responsive=\"false\" data-filterType='joinedDate'>\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nforeach ( $elements['search_tab_member']['joinedDate']->options['options'] as $k => $lang ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t<a href='#' class='ipsSideMenu_item \nCONTENT;\n\nif ( (string) $elements['search_tab_member']['joinedDate']->value == (string) $k ):\n$return .= <<<CONTENT\nipsSideMenu_itemActive\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n' data-ipsMenuValue='\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"joinedDate\" value=\"\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" \nCONTENT;\n\nif ( (string) $elements['search_tab_member']['joinedDate']->value == (string) $k ):\n$return .= <<<CONTENT\nchecked\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n id=\"elRadio_joinedDate_\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='elRadio_joinedDate_\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' id='elField_joinedDate_label'>\nCONTENT;\n\n$val = \"{$lang}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/label>\n\t\t\t\t\t\t\t\t\t\t\t\t<\/a>\n\t\t\t\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t<li class='ipsGrid ipsGrid_collapsePhone cStreamForm_dates ipsAreaBackground_light ipsPad_half \nCONTENT;\n\nif ( $elements['search_tab_member']['joinedDate']->value !== 'custom' ):\n$return .= <<<CONTENT\nipsJS_hide\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n' data-role=\"dateForm\">\n\t\t\t\t\t\t\t\t\t\t\t<div class='ipsGrid_span6'>\n\t\t\t\t\t\t\t\t\t\t\t\t<h4 class='ipsType_minorHeading'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'start', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h4>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type='date' name='\nCONTENT;\n$return .= htmlspecialchars( $elements['search_tab_member']['joinedDateCustom']->name, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n[start]' data-control='date' data-role='start' value='\nCONTENT;\n$return .= htmlspecialchars( $elements['search_tab_member']['joinedDateCustom']->value['start'], ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\t\n\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t<div class='ipsGrid_span6'>\n\t\t\t\t\t\t\t\t\t\t\t\t<h4 class='ipsType_minorHeading'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'end', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h4>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type='date' name='\nCONTENT;\n$return .= htmlspecialchars( $elements['search_tab_member']['joinedDateCustom']->name, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n[end]' data-control='date' data-role='end' value='\nCONTENT;\n$return .= htmlspecialchars( $elements['search_tab_member']['joinedDateCustom']->value['end'], ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\n\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t\t\t\t\t<hr class='ipsHr ipsSpacer_both ipsResponsive_showPhone ipsResponsive_block'>\n\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div class='ipsGrid_span8' data-role='searchFilters' id='elSearchFiltersMain'>\n\t\t\t\t\t\t\t\t<div class='ipsGrid ipsGrid_collapsePhone'>\n\t\t\t\t\t\t\t\t\t<div class='ipsGrid_span6'>\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( isset( $elements['search_tab_member']['group'] ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t<h3 class=\"ipsType_reset ipsType_large cStreamForm_title\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'group', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h3>\n\t\t\t\t\t\t\t\t\t\t\t<ul class=\"ipsSideMenu_list ipsSideMenu_withChecks ipsSideMenu_small ipsType_normal ipsSpacer_top ipsSpacer_half\" data-ipsSideMenu data-ipsSideMenu-type=\"check\" data-ipsSideMenu-responsive=\"false\" data-filterType='group'>\n\t\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nforeach ( $elements['search_tab_member']['group']->options['options'] as $k => $group ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href='#' class='ipsSideMenu_item \nCONTENT;\n\nif ( is_array( $elements['search_tab_member']['group']->value ) AND in_array( $k, $elements['search_tab_member']['group']->value ) ):\n$return .= <<<CONTENT\nipsSideMenu_itemActive\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n' data-ipsMenuValue='\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" name=\"group\" value=\"\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" \nCONTENT;\n\nif ( is_array( $elements['search_tab_member']['group']->value ) AND in_array( $k, $elements['search_tab_member']['group']->value ) ):\n$return .= <<<CONTENT\nchecked\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n id=\"elCheck_group_\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='elRadio_group_\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' id='elField_group_label'>{$group}<\/label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\n$countOne = 0;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $totalCustomFields > 1 ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nforeach ( $elements['search_tab_member'] as $id => $element ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( in_array( $id, $exclude ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\ncontinue;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\n$countOne++;\n$return .= <<<CONTENT\n\n\t\n\t\t\t\t\t\t\t\t\t\t\t\t<hr class='ipsHr'>\n\t\t\t\t\t\t\t\t\t\t\t\t<h3 class=\"ipsType_reset ipsType_large cStreamForm_title ipsSpacer_bottom ipsSpacer_half\">\nCONTENT;\n\n$val = \"{$id}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h3>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class='ipsFieldRow_fullWidth'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{$element->html()}\n\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $countOne >= $perCol ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nbreak;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t<hr class='ipsHr ipsSpacer_both ipsResponsive_showPhone ipsResponsive_block'>\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t<div class='ipsGrid_span6'>\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\n$countTwo = 0;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\n$realCount = 0;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nforeach ( $elements['search_tab_member'] as $id => $element ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( in_array( $id, $exclude ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\ncontinue;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\n$countTwo++;\n$return .= <<<CONTENT\n\n\t\n\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $countTwo <= $countOne ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\ncontinue;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\n\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $countTwo !== ( $countOne + 1 ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- HR except for first item -->\n\t\t\t\t\t\t\t\t\t\t\t\t<hr class='ipsHr'>\n\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\n\t\t\t\t\t\t\t\t\t\t\t<h3 class=\"ipsType_reset ipsType_large cStreamForm_title ipsSpacer_bottom ipsSpacer_half\">\nCONTENT;\n\n$val = \"{$id}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h3>\n\t\t\t\t\t\t\t\t\t\t\t<div class='ipsFieldRow_fullWidth'>\n\t\t\t\t\t\t\t\t\t\t\t\t{$element->html()}\n\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\n$realCount++;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $realCount >= $perCol ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nbreak;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\n\t\t\t\t\t\t\t\t<\/div>\t\t\t\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t<\/section>\n\t\t<div class='ipsAreaBackground cSearchFiltersSubmit'>\n\t\t\t<ul class='ipsToolList ipsToolList_horizontal ipsClearfix'>\n\t\t\t\t<li class='ipsPos_right'>\n\t\t\t\t\t<button type=\"submit\" class=\"ipsButton ipsButton_primary ipsButton_medium ipsButton_fullWidth\" data-action=\"updateResults\">\n\t\t\t\t\t\t\nCONTENT;\n\nif ( \\IPS\\Request::i()->type == 'core_members' ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'search_members', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'search_content', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t<\/button>\n\t\t\t\t<\/li>\n\t\t\t\t<li class='ipsPos_right'>\n\t\t\t\t\t<button type=\"button\" class=\"ipsButton ipsButton_link ipsButton_medium ipsButton_fullWidth \nCONTENT;\n\nif ( isset( $hiddenValues['__advanced'] ) ):\n$return .= <<<CONTENT\nipsHide\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\" data-action=\"cancelFilters\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'cancel', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/button>\n\t\t\t\t<\/li>\n\t\t\t<\/ul>\n\t\t<\/div>\n\t<\/div>\n<\/form>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction globalSearchMenuOptions( $checked ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\nCONTENT;\n\nforeach ( \\IPS\\Output::i()->globalSearchMenuOptions() as $type => $name ):\n$return .= <<<CONTENT\n\n\t<li class='ipsMenu_item \nCONTENT;\n\nif ( $checked == $type ):\n$return .= <<<CONTENT\nipsMenu_itemChecked\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n' data-ipsMenuValue='\nCONTENT;\n$return .= htmlspecialchars( $type, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\n\t\t<a href='#'>\nCONTENT;\n\n$val = \"{$name}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a>\n\t<\/li>\n\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n<li class='ipsMenu_sep'><hr><\/li>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction hints( $url, $count ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( isset( \\IPS\\Request::i()->q ) and \\IPS\\Request::i()->q ):\n$return .= <<<CONTENT\n\n\nCONTENT;\n\n$words = \\IPS\\Content\\Search\\Query::termAsWordsArray( \\IPS\\Request::i()->q, FALSE, 0 );\n$return .= <<<CONTENT\n\n\nCONTENT;\n\n$noPhraseWords = \\IPS\\Content\\Search\\Query::termAsWordsArray( \\IPS\\Request::i()->q, TRUE );\n$return .= <<<CONTENT\n\n\t<p class='ipsType_reset'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'search_better_results_hint', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/p>\n\t<ul class='ipsList_inline'>\n\t\t\nCONTENT;\n\nif ( ! \\IPS\\Content\\Search\\Query::termIsPhrase( \\IPS\\Request::i()->q ) and count( $words ) > 1 ):\n$return .= <<<CONTENT\n\n\t\t\t<li><a href='\nCONTENT;\n$return .= htmlspecialchars( $url->setQueryString('q', '\"' . \\IPS\\Request::i()->q . '\"'), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\nCONTENT;\n\n$sprintf = array(\\IPS\\Request::i()->q); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'search_hint_phrase', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), FALSE, array( 'sprintf' => $sprintf ) );\n$return .= <<<CONTENT\n<\/a><\/li>\n\t\t\nCONTENT;\n\nelseif ( \\IPS\\Content\\Search\\Query::termIsPhrase( \\IPS\\Request::i()->q ) and count( $noPhraseWords ) > 1 ):\n$return .= <<<CONTENT\n\n\t\t\t<li><a href='\nCONTENT;\n$return .= htmlspecialchars( $url->setQueryString( array( 'q' => implode( ' ', $noPhraseWords ), 'search_and_or' => 'or' ) ), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\nCONTENT;\n\n$return .= htmlspecialchars( implode( ' ' . \\IPS\\Member::loggedIn()->language()->addToStack('search_join_or') . ' ', $noPhraseWords ), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/a><\/li>\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nif ( ( ! isset( \\IPS\\Request::i()->search_and_or ) or \\IPS\\Request::i()->search_and_or !== 'or' ) and count( $words ) > 1  ):\n$return .= <<<CONTENT\n\n\t\t\t<li><a href='\nCONTENT;\n$return .= htmlspecialchars( $url->setQueryString( 'search_and_or', 'or'), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\nCONTENT;\n\n$return .= htmlspecialchars( implode( ' ' . \\IPS\\Member::loggedIn()->language()->addToStack('search_join_or') . ' ', $words ), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/a><\/li>\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nif ( $count > 1 and ( ! isset( \\IPS\\Request::i()->sortby ) or \\IPS\\Request::i()->sortby != 'newest' ) ):\n$return .= <<<CONTENT\n\n\t\t\t<li><a href='\nCONTENT;\n$return .= htmlspecialchars( $url->setQueryString('sortby', 'newest'), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'search_newer_first', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a><\/li>\n\t\t\nCONTENT;\n\nelseif ( $count > 1 and ( isset( \\IPS\\Request::i()->sortby ) and \\IPS\\Request::i()->sortby == 'newest' ) ):\n$return .= <<<CONTENT\n\n\t\t\t<li><a href='\nCONTENT;\n$return .= htmlspecialchars( $url->setQueryString('sortby', 'relevancy'), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'search_most_pertinent', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a><\/li>\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nif ( isset( \\IPS\\Request::i()->search_in ) and \\IPS\\Request::i()->search_in == 'titles' ):\n$return .= <<<CONTENT\n\n\t\t\t<li><a href='\nCONTENT;\n$return .= htmlspecialchars( $url->setQueryString('search_in', 'all'), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\nCONTENT;\n\n$sprintf = array(\\IPS\\Request::i()->q); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'search_titles_and_content', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), FALSE, array( 'sprintf' => $sprintf ) );\n$return .= <<<CONTENT\n<\/a><\/li>\n\t\t\nCONTENT;\n\nelseif ( $count > 1 and ( ! isset( \\IPS\\Request::i()->search_in ) or \\IPS\\Request::i()->search_in != 'titles' ) ):\n$return .= <<<CONTENT\n\n\t\t\t<li><a href='\nCONTENT;\n$return .= htmlspecialchars( $url->setQueryString('search_in', 'titles'), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\nCONTENT;\n\n$sprintf = array(\\IPS\\Request::i()->q); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'search_titles_only', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), FALSE, array( 'sprintf' => $sprintf ) );\n$return .= <<<CONTENT\n<\/a><\/li>\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t<\/ul>\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction member( $member ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<li class=\"ipsGrid_span4 ipsStreamItem ipsStreamItem_contentBlock ipsAreaBackground_reset ipsPad ipsType_center\">\n\t\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"global\", \"core\" )->userPhoto( $member, 'medium' );\n$return .= <<<CONTENT\n\n\t<div class='ipsStreamItem_container'>\n\t\t<div class='ipsStreamItem_header ipsSpacer_top ipsSpacer_half'>\n\t\t\t<h2 class='ipsType_reset ipsStreamItem_title ipsTruncate ipsTruncate_line'>\n\t\t\t\t<a href='\nCONTENT;\n$return .= htmlspecialchars( $member->url(), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' data-searchable>\n\t\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"global\", \"core\" )->userLink( $member );\n$return .= <<<CONTENT\n\n\t\t\t\t<\/a>\n\t\t\t<\/h2>\n\t\t\t<p class='ipsType_reset ipsType_medium'>{$member->groupName}<\/p>\n\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"global\", \"core\" )->reputationBadge( $member );\n$return .= <<<CONTENT\n\n\t\t<\/div>\n\n\t\t<hr class='ipsHr ipsHr_small'>\n\n\t\t<ul class='ipsList_reset ipsGrid'>\n\t\t\t<li class='ipsGrid_span6 ipsList_reset ipsType_center'>\n\t\t\t\t<h3 class='ipsType_minorHeading ipsType_unbold'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'joined', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h3>\n\t\t\t\t<p class='ipsType_reset ipsTruncate ipsTruncate_line'>\nCONTENT;\n\n$val = ( $member->joined instanceof \\IPS\\DateTime ) ? $member->joined : \\IPS\\DateTime::ts( $member->joined );$return .= $val->html();\n$return .= <<<CONTENT\n<\/p>\n\t\t\t<\/li>\n\t\t\t<li class='ipsGrid_span6 ipsList_reset ipsType_center'>\n\t\t\t\t<h3 class='ipsType_minorHeading ipsType_unbold'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'members_member_posts', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h3>\n\t\t\t\t<p class='ipsType_reset ipsTruncate ipsTruncate_line'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->formatNumber( $member->member_posts );\n$return .= <<<CONTENT\n<\/p>\n\t\t\t<\/li>\n\t\t<\/ul>\n\n\t\t<hr class='ipsHr ipsHr_small'>\n\n\t\t<ul class='ipsList_reset'>\n\t\t\t<li class='ipsSpacer_bottom ipsSpacer_half'>\n\t\t\t\t<a href='\nCONTENT;\n\n$return .= str_replace( '&', '&amp;', \\IPS\\Http\\Url::internal( \"app=core&module=members&controller=profile&do=edit&id={$member->member_id}\", \"front\", \"profile_content\", array( $member->members_seo_name ), 0 ) );\n$return .= <<<CONTENT\n' class='ipsButton ipsButton_fullWidth ipsButton_light ipsButton_small'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'find_content', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a>\n\t\t\t<\/li>\n\t\t\t\nCONTENT;\n\nif ( \\IPS\\Member::loggedIn()->member_id != $member->member_id and ( !$member->members_bitoptions['pp_setting_moderate_followers'] or \\IPS\\Member::loggedIn()->following( 'core', 'member', $member->member_id ) ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t<li>\n\t\t\t\t\t\nCONTENT;\n\n$memberFollowers = $member->followers();\n$return .= <<<CONTENT\n\n\t\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"profile\", \"core\" )->memberFollow( 'core', 'member', $member->member_id, ( $memberFollowers === NULL ) ? 0 : $memberFollowers->count( TRUE ), TRUE );\n$return .= <<<CONTENT\n\n\t\t\t\t<\/li>\n\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t<\/ul>\n\t<\/div>\n<\/li>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction memberFilters( $id, $action, $elements, $hiddenValues, $actionButtons, $uploadField, $class='', $attributes=array(), $sidebar, $form=NULL ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\n\nCONTENT;\n\n$exclude = array( 'q', 'joinedDate', 'joinedDateCustom', 'group');\n$return .= <<<CONTENT\n\n\nCONTENT;\n\n$totalCustomFields = count( $elements[''] ) - count( $exclude ); \/\/ Don't count q, joined, joined custom or group\n$return .= <<<CONTENT\n\n\nCONTENT;\n\n$perCol = ceil( $totalCustomFields \/ 2 );\n$return .= <<<CONTENT\n\n\n\nCONTENT;\n\nif ( !\\IPS\\Request::i()->isAjax() ):\n$return .= <<<CONTENT\n\n<form accept-charset='utf-8' class=\"ipsForm ipsForm_vertical\" method='post' action='\nCONTENT;\n$return .= htmlspecialchars( $action, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' data-ipsForm id='elSearchFilters_content'>\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t<input type=\"hidden\" name=\"\nCONTENT;\n$return .= htmlspecialchars( $id, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n_submitted\" value=\"1\">\n\t\nCONTENT;\n\nforeach ( $hiddenValues as $k => $v ):\n$return .= <<<CONTENT\n\n\t\t<input type=\"hidden\" name=\"\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" value=\"\nCONTENT;\n$return .= htmlspecialchars( $v, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\n\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\n\t<div class='ipsPad_double'>\n\t\t<!--<div class='ipsAreaBackground_light ipsPad ipsSpacer_both ipsPhotoPanel ipsPhotoPanel_mini'>\n\t\t\t<i class='fa fa-user ipsType_huge ipsPos_left'><\/i>\n\t\t\t<div>\n\t\t\t\t<ul class='ipsList_reset'>\n\t\t\t\t\t\nCONTENT;\n\nif ( isset( $elements['']['q'] ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t<li class='ipsSpacer_bottom ipsSpacer_half'>\n\t\t\t\t\t\t\t<h3 class=\"ipsType_reset ipsType_large cStreamForm_title ipsSpacer_bottom ipsSpacer_half\">Search By Member Name<\/h3>\n\t\t\t\t\t\t\t<input type='text' name='q' value='\nCONTENT;\n\nif ( is_array( $elements['']['q']->value ) ):\n$return .= <<<CONTENT\n\nCONTENT;\n\n$return .= htmlspecialchars( implode( ',', $elements['']['q']->value ), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\nCONTENT;\n$return .= htmlspecialchars( $elements['']['q']->value, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n' class='ipsField_primary ipsField_fullWidth'>\n\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t<\/ul>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<hr class='ipsHr ipsSpacer_bottom ipsSpacer_double'>-->\n\n\t\t<div class='ipsGrid ipsGrid_collapsePhone'>\n\t\t\t<div class='ipsGrid_span4'>\n\t\t\t\t\nCONTENT;\n\nif ( isset( $elements['']['joinedDate'] ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t<h3 class=\"ipsType_reset ipsType_large cStreamForm_title\">Joined<\/h3>\n\t\t\t\t\t<ul class=\"ipsSideMenu_list ipsSideMenu_withRadios ipsSideMenu_small ipsType_normal ipsSpacer_top ipsSpacer_half\" role=\"radiogroup\" data-ipsSideMenu data-ipsSideMenu-type=\"radio\" data-ipsSideMenu-responsive=\"false\" data-filterType='joinedDate'>\n\t\t\t\t\t\t\nCONTENT;\n\nforeach ( $elements['']['joinedDate']->options['options'] as $k => $lang ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href='#' class='ipsSideMenu_item \nCONTENT;\n\nif ( (string) $elements['']['joinedDate']->value == (string) $k ):\n$return .= <<<CONTENT\nipsSideMenu_itemActive\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n' data-ipsMenuValue='\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"joinedDate\" value=\"\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" \nCONTENT;\n\nif ( (string) $elements['']['joinedDate']->value == (string) $k ):\n$return .= <<<CONTENT\nchecked\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n id=\"elRadio_joinedDate_\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\n\t\t\t\t\t\t\t\t\t<label for='elRadio_joinedDate_\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' id='elField_joinedDate_label'>\nCONTENT;\n\n$val = \"{$lang}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/label>\n\t\t\t\t\t\t\t\t<\/a>\n\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t<li class='ipsGrid ipsGrid_collapsePhone cStreamForm_dates ipsAreaBackground_light ipsPad_half \nCONTENT;\n\nif ( $elements['']['joinedDate']->value !== 'custom' ):\n$return .= <<<CONTENT\nipsJS_hide\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n' data-role=\"dateForm\">\n\t\t\t\t\t\t\t<div class='ipsGrid_span6'>\n\t\t\t\t\t\t\t\t<h4 class='ipsType_minorHeading'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'start', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h4>\n\t\t\t\t\t\t\t\t<input type='date' name='\nCONTENT;\n$return .= htmlspecialchars( $elements['']['joinedDateCustom']->name, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n[start]' data-control='date' data-role='start' value='\nCONTENT;\n$return .= htmlspecialchars( $elements['']['joinedDateCustom']->value['start'], ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\t\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div class='ipsGrid_span6'>\n\t\t\t\t\t\t\t\t<h4 class='ipsType_minorHeading'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'end', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h4>\n\t\t\t\t\t\t\t\t<input type='date' name='\nCONTENT;\n$return .= htmlspecialchars( $elements['']['joinedDateCustom']->name, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n[end]' data-control='date' data-role='end' value='\nCONTENT;\n$return .= htmlspecialchars( $elements['']['joinedDateCustom']->value['end'], ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/li>\n\t\t\t\t\t<\/ul>\n\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t<\/div>\n\t\t\t<div class='ipsGrid_span8' data-role='searchFilters' id='elSearchFiltersMain'>\n\t\t\t\t<div class='ipsGrid ipsGrid_collapsePhone'>\n\t\t\t\t\t<div class='ipsGrid_span6'>\n\t\t\t\t\t\t\nCONTENT;\n\nif ( isset( $elements['']['group'] ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t<h3 class=\"ipsType_reset ipsType_large cStreamForm_title\">Group<\/h3>\n\t\t\t\t\t\t\t<ul class=\"ipsSideMenu_list ipsSideMenu_withChecks ipsSideMenu_small ipsType_normal ipsSpacer_top ipsSpacer_half\" data-ipsSideMenu data-ipsSideMenu-type=\"check\" data-ipsSideMenu-responsive=\"false\" data-filterType='group'>\n\t\t\t\t\t\t\t\t\nCONTENT;\n\nforeach ( $elements['']['group']->options['options'] as $k => $group ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<a href='#' class='ipsSideMenu_item \nCONTENT;\n\nif ( is_array( $elements['']['group']->value ) AND in_array( $k, $elements['']['group']->value ) ):\n$return .= <<<CONTENT\nipsSideMenu_itemActive\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n' data-ipsMenuValue='\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" name=\"group\" value=\"\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" \nCONTENT;\n\nif ( is_array( $elements['']['group']->value ) AND in_array( $k, $elements['']['group']->value ) ):\n$return .= <<<CONTENT\nchecked\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n id=\"elCheck_group_\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\n\t\t\t\t\t\t\t\t\t\t\t<label for='elRadio_group_\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' id='elField_group_label'>{$group}<\/label>\n\t\t\t\t\t\t\t\t\t\t<\/a>\n\t\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\n\t\t\t\t\t\t\nCONTENT;\n\n$countOne = 0;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\nCONTENT;\n\nif ( $totalCustomFields > 1 ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\nCONTENT;\n\nforeach ( $elements[''] as $id => $element ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( in_array( $id, $exclude ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\nCONTENT;\n\ncontinue;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\nCONTENT;\n\n$countOne++;\n$return .= <<<CONTENT\n\n\n\t\t\t\t\t\t\t\t<hr class='ipsHr'>\n\t\t\t\t\t\t\t\t<h3 class=\"ipsType_reset ipsType_large cStreamForm_title ipsSpacer_bottom ipsSpacer_half\">\nCONTENT;\n\n$val = \"{$id}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h3>\n\t\t\t\t\t\t\t\t<div class='ipsFieldRow_fullWidth'>\n\t\t\t\t\t\t\t\t\t{$element->html()}\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $countOne >= $perCol ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nbreak;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class='ipsGrid_span6'>\n\t\t\t\t\t\t\nCONTENT;\n\n$countTwo = 0;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\nCONTENT;\n\nforeach ( $elements[''] as $id => $element ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\nCONTENT;\n\nif ( in_array( $id, $exclude ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\nCONTENT;\n\ncontinue;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\nCONTENT;\n\n$countTwo++;\n$return .= <<<CONTENT\n\n\n\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $countTwo <= $countOne ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\nCONTENT;\n\ncontinue;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\n\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $countTwo !== ( $countOne + 1 ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t<!-- HR except for first item -->\n\t\t\t\t\t\t\t\t<hr class='ipsHr'>\n\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\n\t\t\t\t\t\t\t<h3 class=\"ipsType_reset ipsType_large cStreamForm_title ipsSpacer_bottom ipsSpacer_half\">\nCONTENT;\n\n$val = \"{$id}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h3>\n\t\t\t\t\t\t\t<div class='ipsFieldRow_fullWidth'>\n\t\t\t\t\t\t\t\t{$element->html()}\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $countTwo >= $perCol ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\nCONTENT;\n\nbreak;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\t\t\t<\/div>\t\t\t\n\t\t\t\t<\/div>\t\t\t\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n\t<div class='ipsAreaBackground cSearchFiltersSubmit'>\n\t\t<ul class='ipsToolList ipsToolList_horizontal ipsClearfix'>\n\t\t\t<li class='ipsPos_right'>\n\t\t\t\t<button type=\"submit\" class=\"ipsButton ipsButton_primary ipsButton_medium ipsButton_fullWidth\" data-action=\"updateResults\">Update Results<\/button>\n\t\t\t<\/li>\n\t\t\t<li class='ipsPos_right'>\n\t\t\t\t<button type=\"button\" class=\"ipsButton ipsButton_link ipsButton_medium ipsButton_fullWidth\" data-action=\"cancelFilters\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'cancel', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/button>\n\t\t\t<\/li>\n\t\t<\/ul>\n\t<\/div>\n\nCONTENT;\n\nif ( !\\IPS\\Request::i()->isAjax() ):\n$return .= <<<CONTENT\n\t\n<\/form>\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction resultStream( $results, $pagination, $baseUrl ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<div class=\"ipsButtonBar ipsPad_half ipsClearfix ipsClear\">\n\t\nCONTENT;\n\nif ( $pagination ):\n$return .= <<<CONTENT\n\n\t\t{$pagination}\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t<ul class=\"ipsButtonRow ipsPos_right ipsClearfix\">\n\t\t<li>\n\t\t\t<a href=\"#elSortByMenu_menu\" id=\"elSortByMenu_search_results\" data-role=\"sortButton\" data-ipsMenu data-ipsMenu-activeClass=\"ipsButtonRow_active\" data-ipsMenu-selectable=\"radio\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'sort_by', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n <i class=\"fa fa-caret-down\"><\/i><\/a>\n\t\t\t<ul class=\"ipsMenu ipsMenu_auto ipsMenu_withStem ipsMenu_selectable ipsHide\" id=\"elSortByMenu_search_results_menu\">\n\t\t\t\t\nCONTENT;\n\nif ( !isset( \\IPS\\Request::i()->type ) OR \\IPS\\Request::i()->type != 'core_members' ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t<li class=\"ipsMenu_item\nCONTENT;\n\nif ( \\IPS\\Request::i()->sortby == 'newest' ):\n$return .= <<<CONTENT\n ipsMenu_itemChecked\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\" data-sortDirection='desc'><a href=\"\nCONTENT;\n$return .= htmlspecialchars( $baseUrl->setQueryString( array( 'sortby' => 'newest', 'page' => 1 ) ), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'date', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a><\/li>\n\t\t\t\t\t<li class=\"ipsMenu_item\nCONTENT;\n\nif ( \\IPS\\Request::i()->sortby == 'relevancy' || !isset( \\IPS\\Request::i()->sortby ) ):\n$return .= <<<CONTENT\n ipsMenu_itemChecked\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\" data-sortDirection='desc'><a href=\"\nCONTENT;\n$return .= htmlspecialchars( $baseUrl->setQueryString( array( 'sortby' => 'relevancy', 'page' => 1 ) ), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'sort_relevancy', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a><\/li>\n\t\t\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t\t\t<li class=\"ipsMenu_item\nCONTENT;\n\nif ( \\IPS\\Request::i()->sortby == 'joined' ):\n$return .= <<<CONTENT\n ipsMenu_itemChecked\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\" data-sortDirection='desc'><a href=\"\nCONTENT;\n$return .= htmlspecialchars( $baseUrl->setQueryString( array( 'sortby' => 'joined', 'sortdirection' => 'desc', 'page' => 1 ) ), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'sort_joined', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a><\/li>\n\t\t\t\t\t<li class=\"ipsMenu_item\nCONTENT;\n\nif ( \\IPS\\Request::i()->sortby == 'name' || !isset( \\IPS\\Request::i()->sortby ) ):\n$return .= <<<CONTENT\n ipsMenu_itemChecked\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\" data-sortDirection='asc'><a href=\"\nCONTENT;\n$return .= htmlspecialchars( $baseUrl->setQueryString( array( 'sortby' => 'name', 'sortdirection' => 'asc', 'page' => 1 ) ), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'sort_mname', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a><\/li>\n\t\t\t\t\t<li class=\"ipsMenu_item\nCONTENT;\n\nif ( \\IPS\\Request::i()->sortby == 'member_posts' ):\n$return .= <<<CONTENT\n ipsMenu_itemChecked\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\" data-sortDirection='desc'><a href=\"\nCONTENT;\n$return .= htmlspecialchars( $baseUrl->setQueryString( array( 'sortby' => 'member_posts', 'sortdirection' => 'desc', 'page' => 1 ) ), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'sort_posts', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a><\/li>\n\t\t\t\t\t<li class=\"ipsMenu_item\nCONTENT;\n\nif ( \\IPS\\Request::i()->sortby == 'pp_reputation_points' ):\n$return .= <<<CONTENT\n ipsMenu_itemChecked\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\" data-sortDirection='desc'><a href=\"\nCONTENT;\n$return .= htmlspecialchars( $baseUrl->setQueryString( array( 'sortby' => 'pp_reputation_points', 'sortdirection' => 'desc', 'page' => 1 ) ), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'sort_reputation', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a><\/li>\n\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t<\/ul>\n\t\t<\/li>\t\n\t<\/ul>\n<\/div>\n\nCONTENT;\n\nif ( count( $results )  ):\n$return .= <<<CONTENT\n\n\t<div class=\"ipsAreaBackground_light ipsPad\">\n\t\t<ol class=\"ipsStream ipsList_reset \nCONTENT;\n\nif ( \\IPS\\Request::i()->type == 'core_members' ):\n$return .= <<<CONTENT\ncStream_members ipsGrid ipsGrid_collapsePhone\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\" data-role='resultsContents' \nCONTENT;\n\nif ( \\IPS\\Request::i()->type == 'core_members' ):\n$return .= <<<CONTENT\ndata-ipsGrid data-ipsGrid-equalHeights='row' data-ipsGrid-minItemSize='250' data-ipsGrid-maxItemSize='400'\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\n\t\t\t\nCONTENT;\n\nforeach ( $results as $result ):\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\nif ( \\IPS\\Request::i()->type == 'core_members' ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t{$result->searchResultHtml()}\n\t\t\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t\t\t{$result->html()}\n\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t<\/ol>\n\t<\/div>\n\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t<div class='ipsAreaBackground_light ipsType_center ipsPad' data-role='resultsContents'>\n\t\t<p class='ipsType_large ipsType_light'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'no_search_results', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/p>\n\t<\/div>\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( $pagination ):\n$return .= <<<CONTENT\n\n\t<div class=\"ipsButtonBar ipsPad_half ipsClearfix ipsClear\">\n\t\t{$pagination}\n\t<\/div>\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction results( $termJSON, $title, $results, $pagination, $baseUrl, $count=NULL ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\n<div data-controller='core.front.search.results' data-term='{$termJSON}' data-role=\"resultsArea\">\n\t<p class='ipsType_sectionTitle ipsType_reset'>\nCONTENT;\n\n$pluralize = array( $count ); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'search_found', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), FALSE, array( 'pluralize' => $pluralize ) );\n$return .= <<<CONTENT\n<\/p>\n\t\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"search\", \\IPS\\Request::i()->app )->resultStream( $results, $pagination, $baseUrl );\n$return .= <<<CONTENT\n\n<\/div>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction search( $termArray, $title, $results, $pagination, $baseUrl, $types, $filters, $count=NULL, $advanced=FALSE ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\n<div data-controller='core.front.search.main' data-baseURL='\nCONTENT;\n\n$return .= str_replace( '&', '&amp;', \\IPS\\Http\\Url::internal( \"app=core&module=search&controller=search\", null, \"search\", array(), 0 ) );\n$return .= <<<CONTENT\n'>\n\t<div class='ipsResponsive_hidePhone ipsResponsive_block ipsPageHeader'>\n\t\t<h1 class='ipsType_pageTitle'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'search_the_community', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h1>\n\t\t<p class='ipsType_reset ipsType_large \nCONTENT;\n\nif ( $advanced ):\n$return .= <<<CONTENT\nipsHide\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n' data-role='searchBlurb'>\nCONTENT;\n$return .= htmlspecialchars( $title, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/p>\n\t<\/div>\n\n\t<div class='ipsAreaBackground ipsPad ipsSpacer_top' data-controller='core.front.search.filters' id='elSearchFilters'>\n\t\t{$filters}\n\t<\/div>\n\n\t<div id=\"elSearch_main\" class='ipsSpacer_top' data-role='filterContent'>\n\t\t\nCONTENT;\n\nif ( !$advanced ):\n$return .= <<<CONTENT\n\n\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"search\", \\IPS\\Request::i()->app )->results( $termArray, $title, $results, $pagination, $baseUrl, $count );\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t<\/div>\n<\/div>\n\nCONTENT;\n\n\t\treturn $return;\n}}"
VALUE;
